<!DOCTYPE html>
<html lang="en">
<head runat = 'server'>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/schedule.css">   
    <link rel="stylesheet" href="assets/timeline.css">
    <title>手術室排程系統</title>
</head>
<body>
    <header>
        <form action="" method="post">
            <label>查詢日期&ensp;<input type="date" id="date" name="date"></label>
            <input type = 'submit' value="提交">&ensp;
        </form>
        <span style= "background:rgb(255, 247, 0)">等待更新時間......
            <span id="update" runat = "server"></span>
        </span>
        <script type="text/javascript">
            var t = 60;
                function showTime(){
                    t -= 1;
                    document.getElementById('update').innerHTML= t;
                    
                    if(t==0){
                        //location.href='http://localhost:3000/operation_schedule_page.html';
                        t=60;
                    }

                    setTimeout('showTime()',1000);
                };

                showTime();

        </script>
        &ensp;
        <span style= "background:rgb(106, 255, 0)">總人數：0 已開刀：0 常規刀尚有：0 急刀尚有：0</span>
        <button type="button">手術平均時間</button>
        <span style="float:right" class="user">使用者：XXX</span> 
    
    </header>
    <main>
        <section class="timeline">
            <div class="container">
                <div class="time">
                    <div class="time1">
                        00:00
                    </div>
                    <div class="time2">
                        01:00 02:00 03:00 04:00 05:00 06:00 07:00 08:00 
                        09:00 10:00 11:00 12:00 13:00 14:00 15:00 16:00 17:00 
                        18:00 19:00 20:00 21:00 22:00 23:00
                    </div>
                </div>
                <table class="timeline">
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>                                         
                </table>
            </div>
        </section>
        <section class="room">
            <table class="number">
                <tr>
                    <th>1號房</th>
                    <th>2號房</th>
                    <th>3號房</th>
                    <th>4號房</th>
                    <th>5號房</th>
                    <th>6號房</th>
                    <th>7號房</th>
                    <th>8號房</th>
                    <th>9號房</th>
                    <th>10號房</th>
                    <th>11號房</th>
                    <th>12號房</th>
                </tr>
                <tr>
                    <td class="schedule_table">
                        <button type="submit" class="btn">
                            <div onclick="openPopup()">
                                醫師:蔣小安<br>
                                病患:劉曉明<br>
                                床號:1011-3<br>
                                時間:40(預)/40(平)<br>
                                麻醉:Y<br>
                                手術:Cesarean section
                                </div>
                            <form action="" method="post">
                                <select name="situation" id="situation">
                                    <option selected>預約</option>
                                    <option>叫刀</option>
                                    <option>結束</option>
                                    <option>返室</option>
                                    <option>恢復中</option>
                                </select>
                            </form>
                        </button>
                    </td>
                    <td class="schedule_table">

                    </td>
                    <td class="schedule_table">

                    </td>
                    <td class="schedule_table">

                    </td>
                    <td class="schedule_table">

                    </td>
                    <td class="schedule_table">

                    </td>
                    <td class="schedule_table">

                    </td>
                    <td class="schedule_table">

                    </td>
                    <td class="schedule_table">

                    </td>
                    <td class="schedule_table">

                    </td>
                    <td class="schedule_table">

                    </td>
                    <td class="schedule_table">

                    </td>
                </tr>
            </table>
            <div class="popup" id="popup">
                <br><br>
                <table border= 1 class="detail">
                      <tr>
                        <td>病人姓名</td>
                        <td>劉曉明</td>
                        <td>病歷號</td>
                        <td colspan="3">1131101190</td>
                      </tr>
                      <tr>
                        <td>主治醫師</td>
                        <td>蔣小安</td>
                        <td>科別</td>
                        <td>婦產科</td>
                        <td>手術別</td>
                        <td>預約手術</td>
                      </tr>
                      <tr>
                        <td>床號</td>
                        <td>1011-3</td>
                        <td>時段</td>
                        <td>上午</td>
                        <td>重返手術</td>
                        <td>否</td>
                      </tr>
                      <tr>
                        <td>預計開始時間</td>
                        <td>08:00</td>
                        <td>預計手術時間</td>
                        <td>1小時</td>
                        <td>麻諮否</td>
                        <td>是</td>
                      </tr>
                      <tr>
                        <td>禁食日期</td>
                        <td>111/10/05</td>
                        <td>禁食時間</td>
                        <td>00:01</td>
                        <td>訪視註記</td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>麻醉類別</td>
                        <td>ETGA</td>
                        <td>訪視備註</td>
                        <td colspan="3"></td>
                      </tr>
                      <tr>
                        <td>術前診斷</td>
                        <td>O63</td>
                        <td colspan="4">Delayed Labor</td>
                      </tr>
                      <tr>
                        <td>備註</td>
                        <td colspan="5"></td>
                      </tr>
                    </table>
                    <br>
                    <table border= 1 class="surgery">
                        <tr>
                            <td>手術區分</td>
                            <td>手術代碼</td>
                            <td>手術名稱</td>
                            <td>手術科別</td>
                            <td colspan="2">主刀醫師</td>
                        </tr>
                        <tr>
                            <td>主手術</td>
                            <td>0010027</td>
                            <td>Cesarean section</td>
                            <td>婦產科</td>
                            <td colspan="2">蔣小安</td>
                        </tr>
                    </table>
                    <br>
                    <button type="button" onclick="closePopup()">關閉</button>
            </div>
        </section>
    </main>
    <script>
        let popup = document.getElementById("popup");
    
        function openPopup(){
            popup.classList.add("open-popup")
        }
        function closePopup(){
            popup.classList.remove("open-popup")
        }
    </script>
</body>
</html>